{"body": "<div class=\"section\" id=\"configurable-options-for-common-situations\">\n<h1>Configurable Options for Common Situations<a class=\"headerlink\" href=\"#configurable-options-for-common-situations\" title=\"Permalink to this headline\">\u00b6</a></h1>\n<a name=\"b8529050d32099f3c2b91e6071ffb12a1eb7d126\"></a><p class=\"cn\" id=\"b8529050d32099f3c2b91e6071ffb12a1eb7d126\">A few, well-known of variations\n(e.g. Use django.contrib.sites?)</p>\n<dl class=\"docutils\">\n<dt><strong>models.py</strong></dt>\n<dd><div class=\"first last highlight-python\"><table class=\"highlighttable\"><tr><td class=\"linenos\"><div class=\"linenodiv\"><pre> 1\n 2\n 3\n 4\n 5\n 6\n 7\n 8\n 9\n10\n11\n12\n13\n14</pre></div></td><td class=\"code\"><div class=\"highlight\"><pre><span class=\"kn\">from</span> <span class=\"nn\">django.db</span> <span class=\"kn\">import</span> <span class=\"n\">models</span>\n<span class=\"kn\">from</span> <span class=\"nn\">coolapp.settings</span> <span class=\"kn\">import</span> <span class=\"n\">MULTIPLE_SITES</span><span class=\"p\">,</span> <span class=\"n\">SINGLE_SITE</span>\n\n<span class=\"k\">if</span> <span class=\"n\">MULTIPLE_SITES</span> <span class=\"ow\">or</span> <span class=\"n\">SINGLE_SITE</span><span class=\"p\">:</span>\n    <span class=\"kn\">from</span> <span class=\"nn\">django.contrib.sites.models</span> <span class=\"kn\">import</span> <span class=\"n\">Site</span>\n\n<span class=\"k\">class</span> <span class=\"nc\">Entry</span><span class=\"p\">(</span><span class=\"n\">models</span><span class=\"o\">.</span><span class=\"n\">Model</span><span class=\"p\">):</span>\n    <span class=\"n\">title</span> <span class=\"o\">=</span> <span class=\"n\">models</span><span class=\"o\">.</span><span class=\"n\">CharField</span><span class=\"p\">(</span><span class=\"n\">max_length</span><span class=\"o\">=</span><span class=\"mi\">100</span><span class=\"p\">)</span>\n    <span class=\"c\"># Other stuff</span>\n    \n    <span class=\"k\">if</span> <span class=\"n\">MULTIPLE_SITES</span><span class=\"p\">:</span>\n        <span class=\"n\">sites</span> <span class=\"o\">=</span> <span class=\"n\">models</span><span class=\"o\">.</span><span class=\"n\">ManyToManyField</span><span class=\"p\">(</span><span class=\"n\">Site</span><span class=\"p\">)</span>\n    <span class=\"k\">if</span> <span class=\"n\">SINGLE_SITE</span><span class=\"p\">:</span>\n        <span class=\"n\">sites</span> <span class=\"o\">=</span> <span class=\"n\">models</span><span class=\"o\">.</span><span class=\"n\">ForeignKey</span><span class=\"p\">(</span><span class=\"n\">Site</span><span class=\"p\">)</span>\n</pre></div>\n</td></tr></table></div>\n</dd>\n</dl>\n<a name=\"017f64f041499a30e8614a70192e6a023867d0bf\"></a><p class=\"cn\" id=\"017f64f041499a30e8614a70192e6a023867d0bf\">Another example:</p>\n<dl class=\"docutils\">\n<dt><strong>models.py</strong></dt>\n<dd><div class=\"first last highlight-python\"><table class=\"highlighttable\"><tr><td class=\"linenos\"><div class=\"linenodiv\"><pre> 1\n 2\n 3\n 4\n 5\n 6\n 7\n 8\n 9\n10\n11\n12</pre></div></td><td class=\"code\"><div class=\"highlight\"><pre><span class=\"kn\">from</span> <span class=\"nn\">django.db</span> <span class=\"kn\">import</span> <span class=\"n\">models</span>\n<span class=\"kn\">from</span> <span class=\"nn\">myapp.settings</span> <span class=\"kn\">import</span> <span class=\"n\">USE_TAGGING</span>\n\n<span class=\"k\">if</span> <span class=\"n\">USE_TAGGING</span><span class=\"p\">:</span>\n    <span class=\"kn\">from</span> <span class=\"nn\">tagging.fields</span> <span class=\"kn\">import</span> <span class=\"n\">TagField</span>\n\n<span class=\"k\">class</span> <span class=\"nc\">Entry</span><span class=\"p\">(</span><span class=\"n\">models</span><span class=\"o\">.</span><span class=\"n\">Model</span><span class=\"p\">):</span>\n    <span class=\"n\">title</span> <span class=\"o\">=</span> <span class=\"n\">models</span><span class=\"o\">.</span><span class=\"n\">CharField</span><span class=\"p\">(</span><span class=\"n\">max_length</span><span class=\"o\">=</span><span class=\"mi\">100</span><span class=\"p\">)</span>\n    <span class=\"c\"># Other stuff</span>\n    \n    <span class=\"k\">if</span> <span class=\"n\">USE_TAGGING</span><span class=\"p\">:</span>\n        <span class=\"n\">tags</span> <span class=\"o\">=</span> <span class=\"n\">TagField</span><span class=\"p\">()</span>\n</pre></div>\n</td></tr></table></div>\n</dd>\n</dl>\n<a name=\"1f37eef75ecd41f7cc7e2478c2877209f3180197\"></a><p class=\"cn\" id=\"1f37eef75ecd41f7cc7e2478c2877209f3180197\">You can provide for optional field settings.</p>\n<a name=\"f8c1ec4c1d6043346b69910d964719c26b0e60a8\"></a><p class=\"cn\" id=\"f8c1ec4c1d6043346b69910d964719c26b0e60a8\">Import the setting from your own apps settings</p>\n<a name=\"23b84850711d58d3fb526dc83583c1691c682f7e\"></a><p class=\"cn\" id=\"23b84850711d58d3fb526dc83583c1691c682f7e\">Based on that setting, you can optionally import classes. And in your model definition...</p>\n<a name=\"bddb429f360dae35d66a0d0b65cda8ee69dffeab\"></a><p class=\"cn\" id=\"bddb429f360dae35d66a0d0b65cda8ee69dffeab\">Optionally declare fields. The only drawback of this depends on the type of field. Changing your mind after the initial table creation might require you to either manually add the field or drop the table and syncdb again.</p>\n<a name=\"776083f761f4a267d4e27c6e2b7523e85c7543a4\"></a><p class=\"cn\" id=\"776083f761f4a267d4e27c6e2b7523e85c7543a4\">Link to way to do migration with south if field is added.</p>\n</div>\n", "display_toc": false, "title": "Configurable Options for Common Situations", "sourcename": "models/common_options.txt", "customsidebar": null, "current_page_name": "models/common_options", "next": {"link": "../configurable_relations/", "title": "Configurable Foreign Keys"}, "rellinks": [["genindex", "General Index", "I", "index"], ["models/configurable_relations", "Configurable Foreign Keys", "N", "next"], ["models/abstract_model_mixins", "Abstract Model Mixins", "P", "previous"]], "meta": {}, "parents": [{"link": "../", "title": "Model Patterns"}], "sidebars": null, "toc": "<ul>\n<li><a class=\"reference internal\" href=\"#\">Configurable Options for Common Situations</a></li>\n</ul>\n", "prev": {"link": "../abstract_model_mixins/", "title": "Abstract Model Mixins"}, "metatags": ""}