{"body": "<div class=\"section\" id=\"configurable-foreign-keys\">\n<h1>Configurable Foreign Keys<a class=\"headerlink\" href=\"#configurable-foreign-keys\" title=\"Permalink to this headline\">\u00b6</a></h1>\n<a name=\"fec4b5cb6d77049784b366d22b32ffac43bde1dd\"></a><p class=\"cn\" id=\"fec4b5cb6d77049784b366d22b32ffac43bde1dd\">We had a staff model that we wanted to related it to in some projects, but not all. So in the application settings we use a django function called get_model. This allows you to specify the model in an app-dot-model format in the project settings and then dynamically import it</p>\n<div class=\"highlight-python\"><div class=\"highlight\"><pre><span class=\"kn\">from</span> <span class=\"nn\">django.conf</span> <span class=\"kn\">import</span> <span class=\"n\">settings</span>\n<span class=\"kn\">from</span> <span class=\"nn\">django.db.models</span> <span class=\"kn\">import</span> <span class=\"n\">get_model</span>\n\n<span class=\"n\">model_string</span> <span class=\"o\">=</span> <span class=\"nb\">getattr</span><span class=\"p\">(</span><span class=\"n\">settings</span><span class=\"p\">,</span> <span class=\"s\">&#39;VIEWPOINT_AUTHOR_MODEL&#39;</span><span class=\"p\">,</span> <span class=\"s\">&#39;auth.User&#39;</span><span class=\"p\">)</span>\n<span class=\"n\">AUTHOR_MODEL</span> <span class=\"o\">=</span> <span class=\"n\">get_model</span><span class=\"p\">(</span><span class=\"o\">*</span><span class=\"n\">model_string</span><span class=\"o\">.</span><span class=\"n\">split</span><span class=\"p\">(</span><span class=\"s\">&#39;.&#39;</span><span class=\"p\">))</span>\n</pre></div>\n</div>\n<a name=\"3c2b0641abedd7305d915e73c4a3500cd909422a\"></a><p class=\"cn\" id=\"3c2b0641abedd7305d915e73c4a3500cd909422a\">Now we simply import the AUTHOR_MODEL setting, which is a django model. And use it as the parameter for the ForeignKey field.</p>\n<div class=\"highlight-python\"><div class=\"highlight\"><pre><span class=\"kn\">from</span> <span class=\"nn\">viewpoint.settings</span> <span class=\"kn\">import</span> <span class=\"n\">AUTHOR_MODEL</span>\n\n<span class=\"k\">class</span> <span class=\"nc\">Entry</span><span class=\"p\">(</span><span class=\"n\">models</span><span class=\"o\">.</span><span class=\"n\">Model</span><span class=\"p\">):</span>\n    <span class=\"n\">title</span> <span class=\"o\">=</span> <span class=\"n\">models</span><span class=\"o\">.</span><span class=\"n\">CharField</span><span class=\"p\">(</span><span class=\"n\">max_length</span><span class=\"o\">=</span><span class=\"mi\">100</span><span class=\"p\">)</span>\n    <span class=\"n\">author</span> <span class=\"o\">=</span> <span class=\"n\">models</span><span class=\"o\">.</span><span class=\"n\">ForeignKey</span><span class=\"p\">(</span><span class=\"n\">AUTHOR_MODEL</span><span class=\"p\">)</span>\n    <span class=\"o\">...</span>\n</pre></div>\n</div>\n</div>\n", "display_toc": false, "title": "Configurable Foreign Keys", "sourcename": "models/configurable_relations.txt", "customsidebar": null, "current_page_name": "models/configurable_relations", "next": {"link": "../flexible_storage_uploaded_files/", "title": "Flexible storage of uploaded files"}, "rellinks": [["genindex", "General Index", "I", "index"], ["models/flexible_storage_uploaded_files", "Flexible storage of uploaded files", "N", "next"], ["models/common_options", "Configurable Options for Common Situations", "P", "previous"]], "meta": {}, "parents": [{"link": "../", "title": "Model Patterns"}], "sidebars": null, "toc": "<ul>\n<li><a class=\"reference internal\" href=\"#\">Configurable Foreign Keys</a></li>\n</ul>\n", "prev": {"link": "../common_options/", "title": "Configurable Options for Common Situations"}, "metatags": ""}